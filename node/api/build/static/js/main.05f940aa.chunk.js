(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{135:function(e,t,n){e.exports=n(258)},140:function(e,t,n){},145:function(e,t){},147:function(e,t){},161:function(e,t){},163:function(e,t){},191:function(e,t){},193:function(e,t){},194:function(e,t){},200:function(e,t){},202:function(e,t){},220:function(e,t){},222:function(e,t){},234:function(e,t){},237:function(e,t){},258:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(131),u=n.n(c),i=(n(140),n(17)),o=n(7),s=n(1),l=n.n(s),p=n(4),m=n(6),f=n(134),d=n(5),b=n(132),v=n.n(b),h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=t.length,a="",r=0;r<e;r++)a+=t.charAt(Math.floor(Math.random()*n));return a},j=function(e){return e instanceof Object?"success"===e.status:"success"===e},O=function(e){return e.data},E="REQUEST",y="SUCCESS",g="ERROR",w={status:E,user:{},loading:!0,error:{}},k=r.a.createContext(w),x=r.a.createContext({}),S=function(e,t){switch(t.type){case E:return Object(d.a)(Object(d.a)({},w),{},{status:E,user:e.user,loading:!0});case y:var n={};if(t.payload.data&&t.payload.data.token){var a=t.payload.data,r=a.token,c=a.expires_at;n=Object(d.a)(Object(d.a)({},v.a.decode(r)),{},{token:r,expires_at:c})}return Object(d.a)(Object(d.a)({},w),{},{status:y,user:n});case g:return Object(d.a)(Object(d.a)({},w),{},{status:g,error:t.error});default:throw new Error("Unhandled action type: ".concat(t.type))}},C=function(){var e=Object(a.useContext)(k);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e},_=function(){var e=Object(a.useContext)(x);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e},A=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E,loading:!0}),e.prev=1,e.next=4,Q.refresh();case 4:return n=e.sent,j(n)?t({type:y,payload:n}):t({type:g,error:n}),e.abrupt("return",setInterval(Object(p.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q.refresh();case 2:n=e.sent,j(n)?t({type:y,payload:n}):t({type:g,error:n});case 4:case"end":return e.stop()}}),e)}))),3e5));case 9:e.prev=9,e.t0=e.catch(1),t({type:g,error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E,loading:!0}),e.prev=1,e.next=4,Q.login(n);case 4:if(a=e.sent,!j(a)){e.next=10;break}return t({type:y,payload:a}),e.abrupt("return",a);case 10:throw a;case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),t({type:g,error:e.t0}),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E,loading:!0}),e.prev=1,e.next=4,Q.register(n);case 4:if(a=e.sent,!j(a)){e.next=10;break}return t({type:y,payload:a}),e.abrupt("return",a);case 10:throw a;case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),t({type:g,error:e.t0}),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:E,loading:!0}),e.prev=1,e.next=4,Q.logout();case 4:if(n=e.sent,!j(n)){e.next=10;break}return t({type:y,payload:n}),e.abrupt("return",n);case 10:throw n;case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(1),t({type:g,error:e.t0}),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=e.children,n=Object(a.useReducer)(S,w),c=Object(m.a)(n,2),u=c[0],i=c[1];return r.a.useEffect((function(){var e=A(i);return function(){clearInterval(e)}}),[]),r.a.createElement(k.Provider,{value:u},r.a.createElement(x.Provider,{value:i},t))},F="http://localhost:4000/api/v1",T={"Content-Type":"application/json"},D={get:function(){var e=Object(p.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(d.a)({method:"POST"},n)).headers=Object(d.a)(Object(d.a)({},T),a.headers),e.next=4,fetch(t,a);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),put:function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(d.a)({method:"PUT"},n)).headers=Object(d.a)(Object(d.a)({},T),a.headers),e.next=4,fetch(t,a);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=Object(p.a)(l.a.mark((function e(t,n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=Object(d.a)({method:"DELETE"},n)).headers=Object(d.a)(Object(d.a)({},T),a.headers),e.next=4,fetch(t,a);case 4:return r=e.sent,e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},L=F,I=function(){var e=C();return{search:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("".concat(L).concat("/ingredients","/search?q=").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),add:function(){var t=Object(p.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,r={body:JSON.stringify({name:a}),credentials:"include",headers:{Authorization:"Bearer ".concat(e.user.token)}},t.next=4,D.post("".concat(L).concat("/ingredients","/new"),r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},J=F,B=function(){var e=C();return{add:function(){var t=Object(p.a)(l.a.mark((function t(n){var a,r,c,u,i,o,s,p,m,f;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.name,r=n.thumbnail,c=n.prep_time,u=n.cook_time,i=n.yields,o=n.servings,s=n.steps,p=n.ingredients,m={name:a,thumbnail:r,prep_time:c,cook_time:u,yields:i,servings:o,steps:s,ingredients:p},f={body:JSON.stringify(m),credentials:"include",headers:{Authorization:"Bearer ".concat(e.user.token)}},t.next=5,D.post("".concat(J).concat("/recipes","/new"),f);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),suggest:function(){var e=Object(p.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.get("".concat(J).concat("/recipes","/suggest?").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},M=F,Q={login:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,r={body:JSON.stringify({email:n,password:a}),credentials:"include"},e.next=4,D.post("".concat(M).concat("/users","/login"),r);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),register:function(){var e=Object(p.a)(l.a.mark((function e(t){var n,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,a=t.password,r=t.confirm_password,c={body:JSON.stringify({email:n,password:a,confirm_password:r}),credentials:"include"},e.next=4,D.post("".concat(M).concat("/users","/register"),c);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),refresh:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={credentials:"include"},e.next=3,D.post("".concat(M).concat("/users","/refresh"),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),logout:function(){var e=Object(p.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={credentials:"include"},e.next=3,D.post("".concat(M).concat("/users","/logout"),t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},z=function(e){var t=e.canAddNew,n=e.items,a=e.onClickAddNew,c=e.onSelect,u=e.value;return r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{style:{position:"absolute",top:"0",left:"0",padding:"10px",background:"#FFF",display:u.trim().length>0?"block":"none"}},t&&r.a.createElement("p",{onClick:a},"Add ",r.a.createElement("b",null,u)),n.map((function(e){return r.a.createElement("p",{key:e.uuid,"data-uuid":e.uuid,onClick:c},e.name)}))))};z.defaultProps={canAddNew:!1,items:[],onClickAddNew:function(){},onSelect:function(){},value:""};var W=z,Y=function(e){var t=e.canAddNew,n=e.items,a=e.onChange,c=e.onClickAddNew,u=e.onSelect,i=e.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:i,onChange:a}),r.a.createElement(W,{canAddNew:t,items:n,onClickAddNew:c,onSelect:u,value:i}))};Y.defaultProps={canAddNew:!1,items:[],onClickAddNew:function(){},onSelect:function(){}};var q=Y,G=function(e){var t=e.handleRemove,n=e.items;return r.a.createElement("div",{style:{margin:"10px"}},n.map((function(e){return r.a.createElement("span",{key:e.uuid,style:{border:"solid 1px lightgray",marginRight:"10px",padding:"5px"}},e.name,r.a.createElement("button",{onClick:t,"data-uuid":e.uuid,style:{marginLeft:"10px"}},"X"))})))};G.defaultProps={items:[]};var H=G,X=function(e){var t=e.onChangeIngredients,n=I(),c=Object(a.useState)(""),u=Object(m.a)(c,2),i=u[0],o=u[1],s=Object(a.useState)([]),d=Object(m.a)(s,2),b=d[0],v=d[1],h=Object(a.useState)([]),E=Object(m.a)(h,2),y=E[0],g=E[1];return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i.trim().length>0)){e.next=7;break}return e.next=3,n.search(i);case 3:t=e.sent,j(t)&&(a=O(t),r=a.filter((function(e){return!y.some((function(t){return t.uuid===e.uuid}))})),v(r)),e.next=8;break;case 7:v([]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i]),Object(a.useEffect)((function(){var e=y.map((function(e){return e.uuid}));t(e)}),[y]),r.a.createElement("div",null,r.a.createElement(q,{items:b,onChange:function(e){var t=e.target.value;o(t)},onSelect:function(e){var t=e.target.dataset.uuid,n=b.find((function(e){return e.uuid===t}));n&&(g([].concat(Object(f.a)(y),[n])),v([]),o(""))},value:i}),r.a.createElement(H,{handleRemove:function(e){var t=e.target.dataset.uuid,n=y.find((function(e){return e.uuid===t}));n&&g(y.filter((function(e){return e.uuid!==n.uuid})))},items:y}))},K=function(e){var t=e.item;return r.a.createElement("div",null,r.a.createElement("img",{src:t.thumbnail,width:"100%",alt:t.name}),r.a.createElement("p",null,t.name))};K.defaultProps={item:{}};var V=K,Z=function(e){var t=e.items;return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",columnGap:"20px"}},t.map((function(e){return r.a.createElement(V,{item:e,key:e.uuid})})))};Z.defaultProps={items:[]};var $=Z,ee=function(){var e=B(),t=Object(a.useState)([]),n=Object(m.a)(t,2),c=n[0],u=n[1],i=function(){var t=Object(p.a)(l.a.mark((function t(n){var a,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n.length>0)){t.next=8;break}return a=n.map((function(e){return"uuids[]=".concat(e)})).join("&"),t.next=4,e.suggest(a);case 4:r=t.sent,j(r)&&(c=O(r),u(c)),t.next=9;break;case 8:u([]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{onChangeIngredients:i}),r.a.createElement($,{items:c}))},te=n(18),ne=function(){var e=B(),t=I(),n=Object(a.useState)(""),c=Object(m.a)(n,2),u=c[0],i=c[1],o=Object(a.useState)([]),s=Object(m.a)(o,2),f=s[0],b=s[1],v=Object(a.useState)([]),E=Object(m.a)(v,2),y=E[0],g=E[1],w=Object(a.useState)(Object(te.a)({},h(5),"")),k=Object(m.a)(w,2),x=k[0],S=k[1],C=Object(a.useState)({name:"",thumbnail:"",prep_time:0,cook_time:0,yields:0,servings:0}),_=Object(m.a)(C,2),A=_[0],N=_[1],R=function(e){var t=e.target,n=t.name,a=t.value;N((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},n,a))}))},P=function(e){var t=e.target,n=t.name,a=t.value,r=t.dataset.key;g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},r,Object(d.a)(Object(d.a)({},e[r]),{},Object(te.a)({},n,a))))}))},U=function(e){var t=e.target,n=t.dataset.key,a=t.value;S((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},n,a))}))},F=function(){var t=Object(p.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=Object(d.a)(Object(d.a)({},A),{},{steps:Object.keys(x).map((function(e){return x[e]})),ingredients:Object.keys(y).map((function(e){var t=y[e];return{uuid:t.uuid,unit:t.unit,amount:t.amount}}))}),t.next=4,e.add(a);case 4:r=t.sent,console.log(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(l.a.mark((function e(){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.trim().length>0)){e.next=5;break}return e.next=3,t.add({name:u});case 3:n=e.sent,j(n)&&(a=O(n),g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},h(5),a))})),b([]),i(""));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){(function(){var e=Object(p.a)(l.a.mark((function e(){var n,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(u.trim().length>0)){e.next=7;break}return e.next=3,t.search(u);case 3:n=e.sent,j(n)&&(a=O(n),r=a.filter((function(e){return!Object.keys(y).some((function(t){return y[t].uuid===e.uuid}))})),b(r)),e.next=8;break;case 7:b([]);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[u]),r.a.createElement("form",{action:"#",onSubmit:F},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"name"},"Name",r.a.createElement("input",{onChange:R,value:A.name,id:"name",type:"text",name:"name",placeholder:"Recipe name",style:{display:"block"}}))),r.a.createElement("div",null,r.a.createElement("p",null,"Ingredients"),r.a.createElement(q,{canAddNew:!0,items:f,value:u,onChange:function(e){var t=e.target.value;i(t)},onClickAddNew:T,onSelect:function(e){var t=e.target.dataset.uuid,n=f.find((function(e){return e.uuid===t})),a={uuid:n.uuid,name:n.name,unit:"",amount:0};n&&(g((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},h(5),a))})),b([]),i(""))}}),Object.keys(y).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("p",null,y[e].name),r.a.createElement("input",{onChange:P,"data-key":e,type:"text",name:"unit",value:y[e].unit}),r.a.createElement("input",{onChange:P,"data-key":e,type:"number",name:"amount",value:y[e].amount}))}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"thumbnail"},"Thumbnail URL",r.a.createElement("input",{onChange:R,value:A.thumbnail,id:"thumbnail",type:"text",name:"thumbnail",placeholder:"Thumbnail URL",style:{display:"block"}}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"prep_time"},"Preparation Time (minutes)",r.a.createElement("input",{onChange:R,value:A.prep_time,id:"prep_time",type:"number",name:"prep_time",placeholder:"Preparation time (minutes)",style:{display:"block"}})),r.a.createElement("label",{htmlFor:"cook_time"},"Cooking Time (minutes)",r.a.createElement("input",{onChange:R,value:A.cook_time,id:"cook_time",type:"number",name:"cook_time",placeholder:"Cooking time (minutes)",style:{display:"block"}}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"yields"},"Yields",r.a.createElement("input",{onChange:R,value:A.yields,id:"yields",type:"number",name:"yields",placeholder:"Yields",style:{display:"block"}})),r.a.createElement("label",{htmlFor:"servings"},"Servings",r.a.createElement("input",{onChange:R,value:A.servings,id:"servings",type:"number",name:"servings",placeholder:"Servings",style:{display:"block"}}))),r.a.createElement("div",null,r.a.createElement("p",null,"Steps"),Object.keys(x).map((function(e){return r.a.createElement("div",{key:e},r.a.createElement("input",{"data-key":e,onChange:U,value:x[e].value,type:"text",name:"steps[]",placeholder:"Step",style:{display:"block"}}))})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){e.preventDefault(),S((function(e){return Object(d.a)(Object(d.a)({},e),{},Object(te.a)({},h(5),""))}))}},"Add a step"))),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"Send")))},ae=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"New Recipe"),r.a.createElement(ne,null))},re=function(){var e=Object(o.g)(),t=Object(o.h)(),n=_(),c=Object(a.useState)(""),u=Object(m.a)(c,2),i=u[0],s=u[1],f=Object(a.useState)(""),d=Object(m.a)(f,2),b=d[0],v=d[1],h=Object(a.useState)(!1),j=Object(m.a)(h,2),O=j[0],E=j[1],y=Object(a.useState)(!1),g=Object(m.a)(y,2),w=g[0],k=g[1],x=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"email":s(a);break;case"password":v(a)}},S=function(){var a=Object(p.a)(l.a.mark((function a(r){var c,u,o;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),E(!1),k(!0),c={email:i,password:b},a.next=6,N(n,c);case 6:"success"===a.sent.status?(u=t.state||{from:{pathname:"/"}},o=u.from,k(!1),e.replace(o)):(E(!0),k(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:S,action:"#"},O&&r.a.createElement("p",null,"Email address or password is incorrect. Please try again."),r.a.createElement("input",{onChange:x,name:"email",type:"email",value:i}),r.a.createElement("input",{onChange:x,name:"password",type:"password",value:b}),r.a.createElement("button",{type:"submit",disabled:w},"Login"))},ce=function(){var e=Object(o.g)(),t=Object(o.h)(),n=_(),c=Object(a.useState)(""),u=Object(m.a)(c,2),i=u[0],s=u[1],f=Object(a.useState)(""),d=Object(m.a)(f,2),b=d[0],v=d[1],h=Object(a.useState)(""),O=Object(m.a)(h,2),E=O[0],y=O[1],g=Object(a.useState)({}),w=Object(m.a)(g,2),k=w[0],x=w[1],S=Object(a.useState)(!1),C=Object(m.a)(S,2),A=C[0],N=C[1],P=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"email":s(a);break;case"password":v(a);break;case"confirm_password":y(a)}},U=function(){var a=Object(p.a)(l.a.mark((function a(r){var c,u,o,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),x({}),N(!0),c={email:i,password:b,confirm_password:E},a.next=6,R(n,c);case 6:u=a.sent,j(u)?(o=t.state||{from:{pathname:"/"}},s=o.from,N(!1),e.replace(s)):(x(u.data),N(!1));case 8:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),F=function(e){if(e)return Object.keys(e).map((function(t){return r.a.createElement("p",{key:t},e[t].message)}))};return r.a.createElement("form",{onSubmit:U,action:"#"},r.a.createElement("div",null,r.a.createElement("input",{onChange:P,name:"email",type:"email",value:i}),F(k.email)),r.a.createElement("div",null,r.a.createElement("input",{onChange:P,name:"password",type:"password",value:b}),F(k.password)),r.a.createElement("div",null,r.a.createElement("input",{onChange:P,name:"confirm_password",type:"password",value:E}),F(k.confirm_password)),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",disabled:A},"Register")))},ue=function(e){var t=e.children,n=e.component,c=e.role,u=C(),i=Object(a.useState)(!0),s=Object(m.a)(i,2),l=s[0],p=s[1],f=Object(a.useState)(!1),d=Object(m.a)(f,2),b=d[0],v=d[1],h=Object(a.useState)(!1),j=Object(m.a)(h,2),O=j[0],E=j[1],y=n;return Object(a.useEffect)((function(){"REQUEST"===u.status?p(!0):(v("SUCCESS"===u.status),E(function(){var e=u.status,t=u.user;return"SUCCESS"===e&&t.role===c}()),p(!1))}),[u]),l?null:b?O?n?r.a.createElement(y,null):t:r.a.createElement(o.a,{to:{pathname:"/"}}):r.a.createElement(o.a,{to:{pathname:"/login"}})};ue.defaultProps={role:"user"};var ie=ue,oe=function(){var e=Object(o.g)(),t=_(),n=function(){var n=Object(p.a)(l.a.mark((function n(a){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.preventDefault(),n.next=3,P(t);case 3:e.replace("/");case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return r.a.createElement("a",{onClick:n,href:"#"},"Logout")},se=function(){var e=C(),t=Object(a.useState)(!0),n=Object(m.a)(t,2),c=n[0],u=n[1];return Object(a.useEffect)((function(){"REQUEST"!==e.status&&u(!1)}),[e]),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),c||0!==Object.keys(e.user).length?r.a.createElement(r.a.Fragment,null,"admin"===e.user.role&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/recipe/new"},"Add a Recipe")),r.a.createElement("li",null,r.a.createElement("p",null,e.user.email)),r.a.createElement("li",null,r.a.createElement(oe,null))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register")))))},le=function(){return r.a.createElement(U,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(se,null),r.a.createElement(o.d,null,r.a.createElement(ie,{role:"admin",exact:!0,path:"/recipe/new"},r.a.createElement(ae,null)),r.a.createElement(o.b,{path:"/login"},r.a.createElement(re,null)),r.a.createElement(o.b,{path:"/register"},r.a.createElement(ce,null)),r.a.createElement(o.b,{path:"/"},r.a.createElement(ee,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[135,1,2]]]);
//# sourceMappingURL=main.05f940aa.chunk.js.map